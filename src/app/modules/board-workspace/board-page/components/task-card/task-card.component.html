<nb-card>
    <nb-card-body class="task-card" (click)="openTaskEditDialog()">
        <div class="jc-space-between">
            <ng-container [ngTemplateOutlet]="editMode ? editName : showInfo"/>
            <button *ngIf="taskData.id"
                    stopEventPropagation
                    nbButton size="small"
                    status="danger"
                    (click)="deleteTask()">Delete</button>
        </div>
    </nb-card-body>
</nb-card>

<ng-template #editName>
    <form [formGroup]="form">
        <input nbInput type="text" placeholder="Name"
               fieldSize="small"
               [formControlName]="'name'"
               (focusout)="onSave()"
               (keydown.enter)="onSave()"
        >
    </form>

    <button (click)="onSave()">Save</button>
</ng-template>
<ng-template #showInfo>
    <div (dblclick)="editCardName()" stopEventPropagation>
        {{taskData.name}}
    </div>
</ng-template>